{"version":3,"file":"gallery.js","sources":["../src/createGallery.js","../src/gallery.js"],"sourcesContent":["const createElement = (tag, properties) => Object.assign(document.createElement(tag), properties);\n\nconst createGalleryImage = ({webformatURL, largeImageURL, tags}) => {\n   const newHyperLink = createElement(\"a\", {className: \"gallery-link\",\n                                            href: largeImageURL});\n\n   const newImage = createElement(\"img\", {className: \"gallery-image\",\n                                          src: webformatURL,\n                                          alt: tags,\n                                          width: \"360\",\n                                          height: \"200\"});\n\n   newHyperLink.append(newImage);\n   return newHyperLink;\n}\n\nexport const createListItem = (images, gallery) => {\n   const list = images.map(createGalleryImage)\n                      .map(image => {\n                               const li = createElement(\"li\");\n                               li.append(image);\n                               return li;\n                      });\n   \n   const fragment = document.createDocumentFragment();\n   fragment.append(...list);\n\n   gallery.appendChild(fragment);\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { createListItem } from \"./createGallery\";   \n\n// Constants\nconst searchInput = document.getElementById('searchImages');\nconst searchButton = document.getElementById('searchBtn');\nconst gallery = document.querySelector('.gallery');\n\n// PixaBay properties\nconst key = \"46332612-74f33d1ba9ca951ac6c22d341\";\nconst image_type = \"photo\";\nconst orientation = \"horizontal\";\nconst safesearch = \"true\";\n\nsearchButton.addEventListener('click', () => {\n    let URL = \"https://pixabay.com/api/?key=\"+key\n          +\"&q=\"+encodeURIComponent(`${searchInput.value}`)\n          +\"&image_type=\"+image_type\n          +\"&orientation=\"+orientation\n          +\"&safesearch=\"+safesearch;\n\n    const options = {\n        method: \"GET\"\n    };\n    \n    fetch(URL, options)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n    })\n      .then(data => {\n        if (data.total == 0) {\n            iziToast.error({message: `Sorry, there are no images matching your search query. Please try again!`});\n            return;\n        }\n\n        gallery.innerHTML = \"\";\n        createListItem(data.hits, gallery);\n        const lightBox = new SimpleLightbox(\"ul.gallery a\", {\n            captionType: \"attr\",\n            captionsData: \"alt\",\n            sourceAttr: \"href\",\n            overlay: true,\n            overlayOpacity: 1,\n        });        \n\n        console.log(data);\n    })\n      .catch(error => {\n        console.log(error);\n    });\n});\n\n"],"names":["createElement","tag","properties","createGalleryImage","webformatURL","largeImageURL","tags","newHyperLink","newImage","createListItem","images","gallery","list","image","li","fragment","searchInput","searchButton","key","image_type","orientation","safesearch","URL","response","data","iziToast","SimpleLightbox","error"],"mappings":"sFAAA,MAAMA,EAAgB,CAACC,EAAKC,IAAe,OAAO,OAAO,SAAS,cAAcD,CAAG,EAAGC,CAAU,EAE1FC,EAAqB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,CAAI,IAAM,CACjE,MAAMC,EAAeP,EAAc,IAAK,CAAC,UAAW,eACX,KAAMK,CAAa,CAAC,EAEvDG,EAAWR,EAAc,MAAO,CAAC,UAAW,gBACX,IAAKI,EACL,IAAKE,EACL,MAAO,MACP,OAAQ,KAAK,CAAC,EAErD,OAAAC,EAAa,OAAOC,CAAQ,EACrBD,CACV,EAEaE,EAAiB,CAACC,EAAQC,IAAY,CAChD,MAAMC,EAAOF,EAAO,IAAIP,CAAkB,EACtB,IAAIU,GAAS,CACL,MAAMC,EAAKd,EAAc,IAAI,EAC7B,OAAAc,EAAG,OAAOD,CAAK,EACRC,CACtC,CAAuB,EAEdC,EAAW,SAAS,yBAC1BA,EAAS,OAAO,GAAGH,CAAI,EAEvBD,EAAQ,YAAYI,CAAQ,CAC/B,ECrBMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,eAAe,WAAW,EAClDN,EAAU,SAAS,cAAc,UAAU,EAG3CO,EAAM,qCACNC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEnBJ,EAAa,iBAAiB,QAAS,IAAM,CACzC,IAAIK,EAAM,gCAAgCJ,EACnC,MAAM,mBAAmB,GAAGF,EAAY,KAAK,EAAE,EAC/C,eAAeG,EACf,gBAAgBC,EAChB,eAAeC,EAMtB,MAAMC,EAJU,CACZ,OAAQ,KAChB,CAEsB,EACf,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAK,EACE,KAAKC,GAAQ,CACZ,GAAIA,EAAK,OAAS,EAAG,CACjBC,EAAS,MAAM,CAAC,QAAS,0EAA0E,CAAC,EACpG,MACH,CAEDd,EAAQ,UAAY,GACpBF,EAAee,EAAK,KAAMb,CAAO,EAChB,IAAIe,EAAe,eAAgB,CAChD,YAAa,OACb,aAAc,MACd,WAAY,OACZ,QAAS,GACT,eAAgB,CAC5B,CAAS,EAED,QAAQ,IAAIF,CAAI,CACxB,CAAK,EACE,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAK,CACL,CAAC"}